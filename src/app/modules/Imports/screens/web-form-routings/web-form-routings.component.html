<app-table-wrapper [headerTitle]="indexMeta.indexTitle"
                   [titleIcon]="indexMeta.indexIcon"
                   [headerBtnLabel]="indexMeta.createBtnLabel"
                   [columns]="indexMeta.columns"
                   [dataSource]="records()"
                   [loading]="isLoading()"
                   [indexPermissions]="permissions().index"
                   [updateBtnPermissions]="permissions().update"
                   [createBtnPermissions]="permissions().create"
                   [deleteBtnPermissions]="permissions().delete"
                   [totalRecords]="totalRecords()"
                   [recordsFiltered]="recordsFiltered()"
                   paginatorPosition="both"
                   [stateKey]="indexMeta.indexTableKey"
                   [globalFilterValue]="globalFilterValue"
                   (createBtnClicked)="openCreateRecordDialog()"
                   (updateBtnClicked)="openUpdateRecordDialog($event)"
                   (deleteBtnClicked)="deleteRecord($event)"
                   (onLoadData)="loadRecords($event)">

  <ng-template #sourceInfo
               let-rowData>
    <div>
      <span class="font-bold">Form ID: </span>
      <span>{{rowData?.form_id}}</span>
    </div>
    <div>
      <span class="font-bold">URL: </span>
      <span>{{rowData?.fqdn}}</span>
    </div>
  </ng-template>

  <ng-template #leadInfo
               let-rowData>
    @if (rowData?.interests) {
    <div>
      <span class="font-bold">Interests: </span>
      <span>{{rowData?.interests}}</span>
    </div>
    }
    @if (rowData?.tags) {
    <div>
      <span class="font-bold">Tags: </span>
      <span>{{rowData?.tags}}</span>
    </div>
    }

  </ng-template>

  <ng-template #assignToInfo
               let-rowData>
    @if (rowData?.assignment_rule === 'assignment_rule_id') {
    <div>
      <span class="font-bold">Assignment Rule: </span>
      <span>{{rowData?.assignment_rule_name}}</span>
    </div>
    }
    @if (rowData?.users) {
    <div>
      <span class="font-bold">Users: </span>
      <span>{{rowData?.users}}</span>
    </div>
    }

    @if (rowData?.groups) {
    <div>
      <span class="font-bold">Groups: </span>
      <span>{{rowData?.groups}}</span>
    </div>
    }
  </ng-template>
</app-table-wrapper>